<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Descriptive Analysis</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/lumen.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="Data-Preparation.html">Data Preparation</a>
</li>
<li>
  <a href="analysis.html">Descriptive Analysis</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Statistical Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="ModelAnalysis2.html">Kruskal-Wallis Analysis</a>
    </li>
    <li>
      <a href="Modeling_Poisson_Analysis.html">Modeling Poisson Analysis</a>
    </li>
  </ul>
</li>
<li>
  <a href="model.html">Regression Model</a>
</li>
<li>
  <a href="https://ym2813.shinyapps.io/interactive_map_p8105_final/">Interactive Map</a>
</li>
<li>
  <a href="report.html">Report</a>
</li>
<li>
  <a href="https://youtu.be/8pWuVAJHhyI">
    <span class="fa fa-youtube fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/P8105Final/P8015_Final_Project">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Descriptive Analysis</h1>

</div>


<div id="overall-glance" class="section level1">
<h1>Overall glance</h1>
<p>At the very beginning, let’s have a overall glance at the shooting incidence and focusing on the most serious issue, which is the amount of death on shooting incident from <strong>2006 to 2020</strong> in New York City.</p>
<pre class="r"><code>year_plot = 
  data_hist %&gt;% 
  filter(year &gt;= 2006 ) %&gt;% 
  group_by(year, statistical_murder_flag) %&gt;%
  summarise(n = n()) %&gt;% 

  ggplot(aes(x = year, y = n, color = statistical_murder_flag))  + scale_x_continuous(breaks = seq(2006, 2020, by = 1)) +
  geom_point() + geom_line() +
  labs(x = &quot;Year&quot;,
       y = &quot;Total incident&quot;,
       title = &quot;Shooting Incident Trend By Year&quot;
       )

year_plot</code></pre>
<p><img src="analysis_files/figure-html/unnamed-chunk-3-1.png" width="90%" /></p>
<p>Murdered shooting incidents are much less than survived shooting incident. From 2006 to 2011, the survived shooting incidents were steadily fluctuate around 1500 and murdered shooting incidents were steadily fluctuate around 400.Both types of the shooting incidents were decreasing gradually from 2010 to 2019. However, there is a huge dramatically increase in 2020. We suspect it might be influenced by the outbreak of COVID-19 which led to a raise in unemployment and panic. We will do more statistical analysis on that later.</p>
<p>Now, let’s take a closer look on more details about the victims.</p>
</div>
<div id="victim" class="section level1">
<h1>Victim</h1>
<div id="race" class="section level2">
<h2>Race</h2>
<pre class="r"><code>vic_race_plot = 
  data_hist %&gt;%
  filter(year &gt;= 2006,
         vic_race %in% c(&quot;black&quot;,&quot;white hispanic&quot;,&quot;black hispanic&quot;,&quot;white&quot;,&quot;asian / pacific islander&quot;,&quot;white&quot;)) %&gt;% 
  group_by(year, vic_race) %&gt;%
  summarise(n = n()) %&gt;%
  ggplot(aes(x = year, y = n, fill= vic_race) ) + scale_x_continuous(breaks = seq(2006, 2020, by = 1)) +
  geom_bar(width = 0.8, stat = &quot;identity&quot;) +
  labs(x = &quot;Year&quot;,
       y = &quot;Total incident&quot;,
       title = &quot;Shooting Incident Trend By Victim’s Race&quot;)
       
vic_race_plot</code></pre>
<p><img src="analysis_files/figure-html/unnamed-chunk-4-1.png" width="90%" /></p>
<p>The majority of victim are <strong>black</strong>. In 2010, 2011 and 2014, white people are the second highest number of victim. The rest of years, white hispanic are the second most among all victim’s race.</p>
</div>
<div id="sex" class="section level2">
<h2>Sex</h2>
<pre class="r"><code>vic_sex_plot = 
  data_hist %&gt;% 
  filter(year &gt;= 2006,
         vic_sex != &quot;unknown&quot;) %&gt;% 
  group_by(year, vic_sex) %&gt;%
  summarise(n = n()) %&gt;% 
  ggplot(aes(x = year, y = n, fill = vic_sex, color = vic_sex)) + scale_x_continuous(breaks = seq(2006, 2020, by = 1)) +
  geom_point() + geom_line() +
  labs(x = &quot;Year&quot;,
       y = &quot;Total Incident&quot;,
       title = &quot;Shooting Incident Trend By Victim’s Sex&quot;)


vic_sex_plot</code></pre>
<p><img src="analysis_files/figure-html/unnamed-chunk-5-1.png" width="90%" /></p>
<p><strong>Male</strong> victims are the majority and female victims have a very small proportion among the total victims in nyc across 2006 to 2020.</p>
</div>
<div id="age" class="section level2">
<h2>Age</h2>
<pre class="r"><code>vic_age_plot = 
  data_hist %&gt;% 
  filter(year &gt;= 2006,
         vic_age_group != &quot;NA&quot;,
         vic_age_group != &quot;UNKNOWN&quot;
         ) %&gt;% 
  group_by(vic_age_group, year) %&gt;%
  summarise(n = n()) %&gt;% 

  ggplot(aes(x = year, y = n, color = vic_age_group)) + scale_x_continuous(breaks = seq(2006, 2020, by = 1)) +
  geom_point() + geom_line() +

  labs(x = &quot;Year&quot;,
       y = &quot;Total incident&quot;,
       title = &quot;Shooting Incident Trend By victim&#39;s Age group&quot;
       )
vic_age_plot</code></pre>
<p><img src="analysis_files/figure-html/unnamed-chunk-6-1.png" width="90%" /></p>
<p>The proportion of age group under 18 and 45-64 have been keeping consistently low across 2006 to 2020, and there are nearly zero incidence for age group over 65. From 2006-2014, age group 18-24 and age group 25-44 have the highest proportion among the shooting incident. But since 2015, the amount of group 18-24 victims have been decreasing rapidly and become the second highest group among the total shooting incident. 18-24 usually is the age to graduate from high school and enter to college, this decrease may referring to some educational policy from 2015.Then we want to see what happened in perpetrator later.</p>
</div>
<div id="place" class="section level2">
<h2>Place</h2>
<pre class="r"><code>jurisdiction_code_plot=
  data_hist %&gt;%
  filter(year &gt; 2006,
         vic_age_group != &quot;NA&quot;,
         vic_age_group != &quot;UNKNOWN&quot;) %&gt;% 
  group_by(jurisdiction_code, vic_age_group) %&gt;%
  summarise(n = n()) %&gt;% 
  ggplot(aes(x = vic_age_group, y = n, fill = jurisdiction_code)) +
  geom_bar(width = 0.8, stat = &quot;identity&quot;) +
  labs(x = &quot;Age group of victims&quot;,
       y = &quot;Total incident&quot;,
       title = &quot;Shooting Incident By Location Of The Incident&quot;
       )

  
jurisdiction_code_plot</code></pre>
<p><img src="analysis_files/figure-html/unnamed-chunk-7-1.png" width="90%" /></p>
<p>Most of the shooting incidents happened in the <strong>patrol</strong>, some of the shooting incidents in housing and only few cases were on transit.</p>
</div>
<div id="hour-in-a-day" class="section level2">
<h2>Hour in a day</h2>
<pre class="r"><code>incident_by_hour =
  data_hist %&gt;%
  filter(year &gt;= 2006) %&gt;% 
  group_by(hour) %&gt;%
  mutate(n = n()) %&gt;% 
  ggplot(aes(x = hour, group = n)) + 
  geom_bar(position = &quot;dodge&quot;) +
  facet_grid(rows = vars(boro)) +
  labs(x = &quot;Hour&quot;,
       y = &quot;Total incident&quot;,
       title = &quot;Shooting Incident Trend By Hour In Day&quot;
       )
  
incident_by_hour</code></pre>
<p><img src="analysis_files/figure-html/unnamed-chunk-8-1.png" width="90%" /></p>
<p><strong>Brooklyn</strong> has most shooting incident, then is bronx. Staten island has least shooting incidents since it does not have much population. Most of the shooting incidents happened at night and very early in the morning. For Bronx and Brooklyn, the shooting incidents are gradually increasing after 12pm and reach to peaks around 10pm to 11pm. The shooting incidences in the morning are not as high as the shooting incidents at night. For queens and manhanttan, the shooting incidents in the morning reach to the highest peak and have a noteworthy amount until 5 am. We will provide more statistical analysis about which borought is the most dangerous in next section.</p>
</div>
</div>
<div id="perpetrator" class="section level1">
<h1>Perpetrator</h1>
<div id="age-1" class="section level2">
<h2>Age</h2>
<pre class="r"><code>perp_age_plot = 
  data_hist %&gt;% 
  filter(year &gt;= 2006,
         perp_age_group != &quot;NA&quot;,
         perp_age_group != &quot;unknown&quot;
         ) %&gt;% 
  group_by(perp_age_group, year) %&gt;%
  summarise(n = n()) %&gt;% 

  ggplot(aes(x = year, y = n, color = perp_age_group)) + 
  geom_point() + geom_line() +

  labs(x = &quot;Year&quot;,
       y = &quot;Total incident&quot;,
       title = &quot;Shooting Incident Trend By Perpetrator&#39;s Age group&quot;
       )
perp_age_plot</code></pre>
<p><img src="analysis_files/figure-html/unnamed-chunk-9-1.png" width="90%" /></p>
<p>From the plot we observed an interesting trend that we explored further. From 2006-2014, majority perpetrator are from age group 18-24 in the shooting incident. However, since 2015, the amount of group 18-24 perpetrator have been decreasing rapidly. We hypothesized that this decrease might be related to factors such as employment, which closely relates to this age group. That is, maybe people aged from 18-24 are having better chance of getting employed after 2015, which potentially stables the society and decreases shooting incident rates.</p>
<p>To explore our hypothesis, we acquired unemployment rate data from 2010 to 2020 and mapped it with the total incidents conducted by perpetrators, in age group 18-24, in this time interval.</p>
<pre class="r"><code>data = read_csv(&quot;data/NYPD_Shooting_Incident_Data_Clean.csv&quot;) %&gt;% 
  filter(year &gt;= 2010, perp_age_group == &quot;18-24&quot;) %&gt;% 
  group_by(year) %&gt;% 
  summarise(n_obs = n())

data_unem = read_csv(&quot;data/unemployment/unemployed_complete.csv&quot;)%&gt;% 
  select(-...1) %&gt;% 
  group_by(year) %&gt;% 
  summarise(mean_rate = mean(unemployment_rate))

data_ana = left_join(data,data_unem, by = c(&quot;year&quot;)) %&gt;% 
  mutate(mean_rate = mean_rate*100)

data_ana %&gt;% 
  ggplot() +
  geom_line(mapping = aes(x = year,y = n_obs), color = &quot;steelblue2&quot;)+
  geom_line(mapping = aes(x = year,y = mean_rate*50), color = &quot;sienna2&quot;)+
  scale_x_continuous(limits = c(2010, 2020), breaks = seq(2010, 2020, by = 1))+
  scale_y_continuous(
    # First axis
    name = &quot;Total Number of Incidents by Perpetrator aged 18-24&quot;,
    # Add a second axis and specify its features
    sec.axis = sec_axis(trans = ~ ./50,name = &quot;Unemployment Rate (%)&quot;)
  ) +
  geom_text(x = 2012, y = 275, label = &quot;Unemployment Rate (%)&quot;, color = &quot;sienna2&quot;) + 
geom_text(x = 2017, y = 325, label = &quot;Total Incidents&quot;, color = &quot;steelblue2&quot;)+
  theme(
    axis.title.y = element_text(color = &quot;steelblue2&quot;),
    axis.title.y.right = element_text(color = &quot;sienna2&quot;)
  ) + 
  labs(title = &quot;Unemployment Rate vs. Total incident by perpetrators aged 18-24&quot;)</code></pre>
<p><img src="analysis_files/figure-html/unnamed-chunk-10-1.png" width="90%" /></p>
<p>In the plot, the blue line represent the total incident conducted by perpetrator in the age group 18-24 throughout each year. The orange line represent the unemployment rate (in percentage), throughout the years. From the plot, we can see that generally the number of incidents decreases as unemployment rates decrease; and the number of incidents increase as unemployment rates increases as well. So, we can infer that there might be a correlation between the number of shooting incidents and unemployment rates during 2010 to 2020. However, although we can see that the total incident conducted by perpetrator aged 18-24 decreased rather rapidly after 2015, the slope of the unemployment rate is not as steep, or even not as steep as it was during 2012 to 2015. Therefore, unemployment rate is not the only factor that influenced the total incident by 18-24 years old perpetrators, our current hypothesis does not stand. Further research is required.</p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
