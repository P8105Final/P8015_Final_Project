<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Statistical analysis</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/lumen.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="Data-Preparation.html">Data Preparation</a>
</li>
<li>
  <a href="analysis.html">Descriptive Analysis</a>
</li>
<li>
  <a href="ModelAnalysis2.html">Statistical Analysis</a>
</li>
<li>
  <a href="model.html">Regression Model</a>
</li>
<li>
  <a href="https://ym2813.shinyapps.io/interactive_map_p8105_final/">Interactive Map</a>
</li>
<li>
  <a href="report.html">Report</a>
</li>
<li>
  <a href="https://www.youtube.com/">
    <span class="fa fa-youtube fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/P8105Final/P8015_Final_Project">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Statistical analysis</h1>

</div>


<div id="goal" class="section level1">
<h1>Goal</h1>
<p>After visualization of the shooting incidences data in section descriptive analysis, we will go to statistical analysis to answer several questions that most of the nyc residents might care about.</p>
<p>In this section we will analysis the shooting case by the factor of the shooting, and carry out statistical analysis and data visualization about the shooting in New York City. We will asking some questions, and answer them using facts and plots.</p>
</div>
<div id="kruskal-wallis-analysis" class="section level1">
<h1>Kruskal-Wallis analysis</h1>
<div id="which-boro-is-most-dangerous" class="section level2">
<h2>Which boro is most dangerous?</h2>
<p>Due to recent raise in shooting events around the US, people become more conscious about their safety. In particular, students of Columbia university want to know whether the community around the university is comparably safe or danger in New York. Here we use bar plot to show the total shooting events from 2006 to 2020 in all 5 boros of New York: “bronx”, “manhattan”, “queens”, “brooklyn” and“staten island”.</p>
<div id="htmlwidget-a35b0def45497b49b63a" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-a35b0def45497b49b63a">{"x":{"data":[{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[9734],"text":"District: brooklyn<br />n: 9734<br />District: brooklyn","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"brooklyn","legendgroup":"brooklyn","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[2],"y":[6701],"text":"District: bronx<br />n: 6701<br />District: bronx","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"bronx","legendgroup":"bronx","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[3],"y":[3532],"text":"District: queens<br />n: 3532<br />District: queens","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"queens","legendgroup":"queens","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[2922],"text":"District: manhattan<br />n: 2922<br />District: manhattan","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"manhattan","legendgroup":"manhattan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[696],"text":"District: staten island<br />n:  696<br />District: staten island","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(231,107,243,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"staten island","legendgroup":"staten island","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[3.55765231495932],"text":"District: brooklyn<br />event_by_thousand_pop: 3.557652<br />District: brooklyn","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"brooklyn","legendgroup":"brooklyn","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[2],"y":[4.55028811927309],"text":"District: bronx<br />event_by_thousand_pop: 4.550288<br />District: bronx","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"bronx","legendgroup":"bronx","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[3],"y":[1.46832378285437],"text":"District: queens<br />event_by_thousand_pop: 1.468324<br />District: queens","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"queens","legendgroup":"queens","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[1.72465590989765],"text":"District: manhattan<br />event_by_thousand_pop: 1.724656<br />District: manhattan","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"manhattan","legendgroup":"manhattan","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[1.40394193005707],"text":"District: staten island<br />event_by_thousand_pop: 1.403942<br />District: staten island","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(231,107,243,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"staten island","legendgroup":"staten island","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null}],"layout":{"xaxis":{"domain":[0,0.48],"automargin":true,"type":"linear","autorange":false,"range":[0.4,5.6],"tickmode":"array","ticktext":["brooklyn","bronx","queens","manhattan","staten island"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["brooklyn","bronx","queens","manhattan","staten island"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","hoverformat":".2f"},"xaxis2":{"domain":[0.52,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,5.6],"tickmode":"array","ticktext":["brooklyn","bronx","queens","manhattan","staten island"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["brooklyn","bronx","queens","manhattan","staten island"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y2","hoverformat":".2f"},"yaxis2":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.227514405963655,4.77780252523675],"tickmode":"array","ticktext":["0","1","2","3","4"],"tickvals":[0,1,2,3,4],"categoryorder":"array","categoryarray":["0","1","2","3","4"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x2","hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-486.7,10220.7],"tickmode":"array","ticktext":["0","2500","5000","7500","10000"],"tickvals":[5.6843418860808e-14,2500,5000,7500,10000],"categoryorder":"array","categoryarray":["0","2500","5000","7500","10000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","hoverformat":".2f"},"annotations":[],"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.48,"y0":0,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.52,"x1":1,"y0":0,"y1":1}],"images":[],"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":54.2657577007069,"l":16.8036529680365},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative","title":"Bar plot of shooting by districts <br><sup>left: shooting , right: shooting / population (thousands) <\/sup>","autosize":true},"attrs":{"61584e88460":{"x":{},"y":{},"fill":{},"type":"bar"},"615865e23b6":{"x":{},"y":{},"fill":{},"type":"bar"}},"source":"A","config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>In the bar plot above we realize that there are most shooting events in brooklyn, and second is bronx, where manhattan is only around forth of the shooting events in brooklyn. It seems ok. From the shooting events per thousand population bar chart, the highest is bronx and second is brooklyn, manhattan is significantly lower than those 2, so compared to those 2 boros, the manhattan district is relatively safer, that’s a good news for all students in our university.</p>
<p>Now we wanna use Kruskal-Wallis test to statistically test whether some districts are more dangerous than others. We will use the precincts shooting per thousand people as the sample, and apply Kruskal-Wallis test on that sample. The reason why we don’s use ANOVA but use the non parametric analysis is because the data is not normally distributed.</p>
<div id="htmlwidget-d9b461a213b72b09f400" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-d9b461a213b72b09f400">{"x":{"data":[{"x":[0.976530259754509,1.00094594899565,1.11628112802282,0.866797353699803,1.07162684556097,1.00273997588083,0.956147995311767,1.05488950712606,1.05710880225524,0.833552875835448,1.11173273315653,0.82030069893226,2.1444900745526,2.04960069255903,2.19318711161613,1.89854205762967,2.15441347025335,2.00262318477035,1.96944893384352,2.095318311546,1.98427670253441,2.10388032179326,1.87172233201563,2.19392172750086,1.96892986493185,2.17680831244215,1.97649262500927,1.97571279481053,1.92977188192308,1.97149479500949,2.00191831849515,1.87868029978126,2.01027735564858,1.84346404634416,1.86352124242112,2.91773675177246,2.9853459790349,2.8387685210444,2.97257323991507,2.96530618127435,2.96164928730577,2.91896426817402,3.11211551595479,2.94276320990175,3.10236607352272,3.07426131609827,2.85938105070964,2.91152687137946,2.97709771748632,3.04934287276119,3.10927181318402,3.15451023969799,2.80986943673342,3.1647608297877,3.07737670717761,2.97921655084938,2.99286059169099,4.16475817840546,4.16902759484947,3.87616532817483,3.95300460429862,4.04415892008692,3.80995227852836,4.02048261240125,3.94498418224975,4.09524259790778,4.13513023490086,3.82085079932585,4.12009456101805,4.15937644727528,4.15126200001687,3.86685832198709,4.03126736367121,5.18662115046754,5.05362495277077,4.91541045438498,4.87304494976997],"y":[8.29580282663877,7.98130925514654,9.08963040948148,3.8226969513441,5.7428452662421,1.22469390646395,6.07623893921969,5.36811068855324,7.66256244539116,2.57169178245175,1.24857874234416,3.56073314339472,3.06923456728248,0.814342237450714,0.334800887218508,2.31035103523055,0.21451063523113,7.09220147046794,0.216486705882229,4.805514891867,2.65725614681784,5.34411251797611,0.720397494827833,14.8492962634327,7.49985412185873,3.31870972901644,7.71398050402828,0.810075045451231,10.2034516262658,11.5113206614235,3.89794128574886,2.11599287412559,5.01774942612215,2.43919654084818,1.20901532113402,0.329642075286099,0.912945856356906,0.385988702008139,1.52618579865951,1.22921728170498,1.15532571877482,0.555097385642275,1.45290726814075,0.0758491480322151,0.480592595933282,0.0528433858632853,0.312092103436843,40.0001858610608,5.71804426188885,0.835799274088175,7.72063501515194,2.60574690743686,6.25300354399984,3.22975583957826,7.42832288555861,2.53377815148976,2.05150249590427,3.10975397941113,6.45642552084211,1.17908194698692,4.94322557089728,0.499194973644902,2.20090147585436,1.51098178056109,0.522466891161639,0.441632936838016,0.396291606869716,0.793255961167649,0.0519587056443832,0.169589631529338,6.00137395563779,1.55887454137379,0.850628487148692,4.54808023910014,0.825126779709864,0.417077563742305,0.264749592296478],"text":["boro: bronx<br />shoot_per_thousand:  8.29535395","boro: bronx<br />shoot_per_thousand:  7.98147227","boro: bronx<br />shoot_per_thousand:  9.08954139","boro: bronx<br />shoot_per_thousand:  3.82286982","boro: bronx<br />shoot_per_thousand:  5.74292719","boro: bronx<br />shoot_per_thousand:  1.22483097","boro: bronx<br />shoot_per_thousand:  6.07644306","boro: bronx<br />shoot_per_thousand:  5.36836993","boro: bronx<br />shoot_per_thousand:  7.66219105","boro: bronx<br />shoot_per_thousand:  2.57165772","boro: bronx<br />shoot_per_thousand:  1.24852536","boro: bronx<br />shoot_per_thousand:  3.56048153","boro: brooklyn<br />shoot_per_thousand:  3.06872015","boro: brooklyn<br />shoot_per_thousand:  0.81430674","boro: brooklyn<br />shoot_per_thousand:  0.33519983","boro: brooklyn<br />shoot_per_thousand:  2.31025532","boro: brooklyn<br />shoot_per_thousand:  0.21423122","boro: brooklyn<br />shoot_per_thousand:  7.09169608","boro: brooklyn<br />shoot_per_thousand:  0.21688315","boro: brooklyn<br />shoot_per_thousand:  4.80587121","boro: brooklyn<br />shoot_per_thousand:  2.65772046","boro: brooklyn<br />shoot_per_thousand:  5.34395351","boro: brooklyn<br />shoot_per_thousand:  0.72090628","boro: brooklyn<br />shoot_per_thousand: 14.84942406","boro: brooklyn<br />shoot_per_thousand:  7.50021819","boro: brooklyn<br />shoot_per_thousand:  3.31853344","boro: brooklyn<br />shoot_per_thousand:  7.71400864","boro: brooklyn<br />shoot_per_thousand:  0.81003240","boro: brooklyn<br />shoot_per_thousand: 10.20351639","boro: brooklyn<br />shoot_per_thousand: 11.51111253","boro: brooklyn<br />shoot_per_thousand:  3.89757977","boro: brooklyn<br />shoot_per_thousand:  2.11635820","boro: brooklyn<br />shoot_per_thousand:  5.01740534","boro: brooklyn<br />shoot_per_thousand:  2.43931665","boro: brooklyn<br />shoot_per_thousand:  1.20895337","boro: manhattan<br />shoot_per_thousand:  0.32993896","boro: manhattan<br />shoot_per_thousand:  0.91310303","boro: manhattan<br />shoot_per_thousand:  0.38569087","boro: manhattan<br />shoot_per_thousand:  1.52604028","boro: manhattan<br />shoot_per_thousand:  1.22967440","boro: manhattan<br />shoot_per_thousand:  1.15583898","boro: manhattan<br />shoot_per_thousand:  0.55531824","boro: manhattan<br />shoot_per_thousand:  1.45271415","boro: manhattan<br />shoot_per_thousand:  0.07582843","boro: manhattan<br />shoot_per_thousand:  0.48089372","boro: manhattan<br />shoot_per_thousand:  0.05281885","boro: manhattan<br />shoot_per_thousand:  0.31181790","boro: manhattan<br />shoot_per_thousand: 40.00000000","boro: manhattan<br />shoot_per_thousand:  5.71772495","boro: manhattan<br />shoot_per_thousand:  0.83599474","boro: manhattan<br />shoot_per_thousand:  7.72070457","boro: manhattan<br />shoot_per_thousand:  2.60563949","boro: manhattan<br />shoot_per_thousand:  6.25265179","boro: manhattan<br />shoot_per_thousand:  3.22979319","boro: manhattan<br />shoot_per_thousand:  7.42860365","boro: manhattan<br />shoot_per_thousand:  2.53384963","boro: manhattan<br />shoot_per_thousand:  2.05197148","boro: queens<br />shoot_per_thousand:  3.10980318","boro: queens<br />shoot_per_thousand:  6.45642287","boro: queens<br />shoot_per_thousand:  1.17879555","boro: queens<br />shoot_per_thousand:  4.94314906","boro: queens<br />shoot_per_thousand:  0.49944180","boro: queens<br />shoot_per_thousand:  2.20063421","boro: queens<br />shoot_per_thousand:  1.51093180","boro: queens<br />shoot_per_thousand:  0.52280834","boro: queens<br />shoot_per_thousand:  0.44169611","boro: queens<br />shoot_per_thousand:  0.39619331","boro: queens<br />shoot_per_thousand:  0.79358643","boro: queens<br />shoot_per_thousand:  0.05153267","boro: queens<br />shoot_per_thousand:  0.16953690","boro: queens<br />shoot_per_thousand:  6.00173143","boro: queens<br />shoot_per_thousand:  1.55844668","boro: queens<br />shoot_per_thousand:  0.85093486","boro: staten island<br />shoot_per_thousand:  4.54835056","boro: staten island<br />shoot_per_thousand:  0.82555514","boro: staten island<br />shoot_per_thousand:  0.41732023","boro: staten island<br />shoot_per_thousand:  0.26521952"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5],"y":[5.22038868499584,4.26809578026924,3.94757324106331,1.91785282518611,1.51411136291048],"text":["boro: bronx<br />shoot_per_thousand: 5.220389","boro: brooklyn<br />shoot_per_thousand: 4.268096","boro: manhattan<br />shoot_per_thousand: 3.947573","boro: queens<br />shoot_per_thousand: 1.917853","boro: staten island<br />shoot_per_thousand: 1.514111"],"type":"scatter","mode":"lines+markers","opacity":1,"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756,"dash":"solid"},"error_y":{"array":[0.790587696390428,0.823297970388146,1.79062186382798,0.525060899700789,1.01830736989498],"arrayminus":[0.790587696390428,0.823297970388146,1.79062186382798,0.525060899700789,1.01830736989498],"type":"data","width":3.23076923076923,"symmetric":false,"color":"rgba(0,0,0,1)"},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","hoveron":"points","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":6.4251968503937,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"frame":null}],"layout":{"margin":{"t":27.1581569115816,"r":7.97011207970112,"b":86.1531814225082,"l":43.8356164383562},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,5.6],"tickmode":"array","ticktext":["bronx","brooklyn","manhattan","queens","staten island"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["bronx","brooklyn","manhattan","queens","staten island"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":3.98505603985056,"tickwidth":0.724555643609193,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022},"tickangle":-45,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"boros","font":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.94545265212644,41.9975972188316],"tickmode":"array","ticktext":["0","10","20","30","40"],"tickvals":[0,10,20,30,40],"categoryorder":"array","categoryarray":["0","10","20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":3.98505603985056,"tickwidth":0.724555643609193,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"shoot per thousand","font":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":2.06156048675734,"font":{"color":"rgba(0,0,0,1)","family":"","size":12.7521793275218}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"6158e17c605":{"x":{},"y":{},"type":"scatter"},"61583ac9797d":{"x":{},"y":{}},"61581471bb2":{"x":{},"y":{}},"6158636b43c5":{"x":{},"y":{}}},"cur_data":"6158e17c605","visdat":{"6158e17c605":["function (y) ","x"],"61583ac9797d":["function (y) ","x"],"61581471bb2":["function (y) ","x"],"6158636b43c5":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Then we perform the kruskal.test.</p>
<pre><code>## 
##  Kruskal-Wallis rank sum test
## 
## data:  shoot_per_thousand by boro
## Kruskal-Wallis chi-squared = 13.768, df = 4, p-value = 0.008072</code></pre>
<p>As the p-value is less than the significance level 0.05, we can conclude that there are significant differences in shooting rate between the boros. From the output of the Kruskal-Wallis test, we know that there is a significant difference between groups, but we don’t know which pairs of groups are different. So we use the pairwise wilcox test to calculate pairwise comparisons between boros with corrections for multiple testing.</p>
<pre><code>## 
##  Pairwise comparisons using Wilcoxon rank sum exact test 
## 
## data:  data1$shoot_per_thousand and data1$boro 
## 
##               bronx brooklyn manhattan queens
## brooklyn      0.240 -        -         -     
## manhattan     0.034 0.240    -         -     
## queens        0.012 0.093    0.609     -     
## staten island 0.066 0.240    0.486     0.609 
## 
## P value adjustment method: BH</code></pre>
<p>Under the 0.05 significance level, we know that there is a significant difference between shooting rate of manhattan and bronx, queens and bronx. And from the bar chart we know that difference means manhattan and queens are significantly safer than the bronx boro.</p>
</div>
</div>
<div id="visualization-of-shooting-time-and-places" class="section level1">
<h1>Visualization of Shooting time and places</h1>
<div id="where-do-the-shooting-most-happens" class="section level2">
<h2>Where do the shooting most happens?</h2>
<p>Where do the shooting most happens? (The last bar is not applicable) From the plot we know that first 3 places are apartment and houses, and of the public area, the first 3 are grocery stor, bar / night club and comercial buildings.</p>
<div id="htmlwidget-322263ac5f7243eff6a6" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-322263ac5f7243eff6a6">{"x":{"data":[{"orientation":"v","width":[0.9,0.899999999999999,0.9,0.9,0.9,0.9,0.899999999999999,0.9,0.9,0.899999999999999],"base":[0,0,0,0,0,0,0,0,0,0],"x":[5,9,6,4,2,1,8,3,7,10],"y":[0.02,0,0.01,0.02,0.11,0.18,0.01,0.04,0.01,0.58],"text":["location: bar/night club<br />proportion: 0.02","location: beauty/nail salon<br />proportion: 0.00","location: commercial bldg<br />proportion: 0.01","location: grocery/bodega<br />proportion: 0.02","location: multi dwell - apt build<br />proportion: 0.11","location: multi dwell - public hous<br />proportion: 0.18","location: none<br />proportion: 0.01","location: pvt house<br />proportion: 0.04","location: restaurant/diner<br />proportion: 0.01","location: NA<br />proportion: 0.58"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(89,89,89,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":90.8858941524698,"l":28.4931506849315},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Top Ten Places to occur shooting","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,10.6],"tickmode":"array","ticktext":["multi dwell - public hous","multi dwell - apt build","pvt house","grocery/bodega","bar/night club","commercial bldg","restaurant/diner","none","beauty/nail salon"],"tickvals":[1,2,3,4,5,6,7,8,9],"categoryorder":"array","categoryarray":["multi dwell - public hous","multi dwell - apt build","pvt house","grocery/bodega","bar/night club","commercial bldg","restaurant/diner","none","beauty/nail salon"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.029,0.609],"tickmode":"array","ticktext":["0%","20%","40%","60%"],"tickvals":[0,0.2,0.4,0.6],"categoryorder":"array","categoryarray":["0%","20%","40%","60%"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"61583be57db0":{"x":{},"y":{},"type":"bar"}},"cur_data":"61583be57db0","visdat":{"61583be57db0":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="when-do-most-of-the-shooting-happens" class="section level2">
<h2>When do most of the shooting happens?</h2>
<div id="htmlwidget-f7b06ee9df2de84d67d5" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-f7b06ee9df2de84d67d5">{"x":{"data":[{"colorbar":{"title":"Pre-COVID","ticklen":2,"len":0.333333333333333,"lenmode":"fraction","y":1,"yanchor":"top","x":1},"colorscale":[["0","rgba(247,252,253,1)"],["0.0416666666666667","rgba(239,247,250,1)"],["0.0833333333333333","rgba(232,241,247,1)"],["0.125","rgba(224,236,244,1)"],["0.166666666666667","rgba(213,228,239,1)"],["0.208333333333333","rgba(202,219,235,1)"],["0.25","rgba(191,211,230,1)"],["0.291666666666667","rgba(180,203,226,1)"],["0.333333333333333","rgba(169,196,222,1)"],["0.375","rgba(158,188,218,1)"],["0.416666666666667","rgba(152,175,211,1)"],["0.458333333333333","rgba(146,163,205,1)"],["0.5","rgba(140,150,198,1)"],["0.541666666666667","rgba(141,136,191,1)"],["0.583333333333333","rgba(141,122,184,1)"],["0.625","rgba(140,107,177,1)"],["0.666666666666667","rgba(139,94,170,1)"],["0.708333333333333","rgba(138,80,164,1)"],["0.75","rgba(136,65,157,1)"],["0.791666666666667","rgba(134,52,146,1)"],["0.833333333333333","rgba(132,36,135,1)"],["0.875","rgba(129,15,124,1)"],["0.916666666666667","rgba(111,8,107,1)"],["0.958333333333333","rgba(94,3,91,1)"],["1","rgba(77,0,75,1)"]],"showscale":true,"x":["00","00","00","00","00","00","00","01","01","01","01","01","01","01","02","02","02","02","02","02","02","03","03","03","03","03","03","03","04","04","04","04","04","04","04","05","05","05","05","05","05","05","06","06","06","06","06","06","06","07","07","07","07","07","07","07","08","08","08","08","08","08","08","09","09","09","09","09","09","09","10","10","10","10","10","10","10","11","11","11","11","11","11","11","12","12","12","12","12","12","12","13","13","13","13","13","13","13","14","14","14","14","14","14","14","15","15","15","15","15","15","15","16","16","16","16","16","16","16","17","17","17","17","17","17","17","18","18","18","18","18","18","18","19","19","19","19","19","19","19","20","20","20","20","20","20","20","21","21","21","21","21","21","21","22","22","22","22","22","22","22","23","23","23","23","23","23","23"],"y":["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"z":[448,177,206,173,160,174,438,530,163,161,138,141,168,409,457,149,169,89,89,129,420,473,130,107,67,65,121,418,411,125,64,64,73,102,384,236,59,35,37,23,37,167,77,33,23,21,15,23,92,50,25,17,13,14,17,42,27,34,22,20,20,29,23,14,25,30,22,28,26,19,36,30,34,41,33,35,28,42,57,39,36,34,46,35,56,61,51,54,64,46,52,52,85,48,63,61,48,57,103,94,79,87,85,117,77,108,123,84,91,95,103,87,130,129,110,116,87,136,95,124,159,125,111,110,116,91,137,165,116,137,168,122,129,157,184,159,157,181,177,135,199,229,180,168,170,207,162,203,276,211,216,173,241,264,181,283,217,225,234,314,267,236,256,209,234,233,323,335],"type":"heatmap","xaxis":"x","yaxis":"y","frame":null},{"colorbar":{"title":"COVID","ticklen":2,"len":0.333333333333333,"lenmode":"fraction","y":0.5,"yanchor":"top","x":1},"colorscale":[["0","rgba(255,255,229,1)"],["0.0416666666666667","rgba(253,254,214,1)"],["0.0833333333333333","rgba(250,253,200,1)"],["0.125","rgba(247,252,185,1)"],["0.166666666666667","rgba(237,248,178,1)"],["0.208333333333333","rgba(227,244,170,1)"],["0.25","rgba(217,240,163,1)"],["0.291666666666667","rgba(202,234,156,1)"],["0.333333333333333","rgba(188,227,149,1)"],["0.375","rgba(173,221,142,1)"],["0.416666666666667","rgba(156,213,135,1)"],["0.458333333333333","rgba(138,206,128,1)"],["0.5","rgba(120,198,121,1)"],["0.541666666666667","rgba(103,189,112,1)"],["0.583333333333333","rgba(85,180,102,1)"],["0.625","rgba(65,171,93,1)"],["0.666666666666667","rgba(55,158,84,1)"],["0.708333333333333","rgba(45,145,76,1)"],["0.75","rgba(35,132,67,1)"],["0.791666666666667","rgba(26,123,63,1)"],["0.833333333333333","rgba(14,113,59,1)"],["0.875","rgba(0,104,55,1)"],["0.916666666666667","rgba(0,92,50,1)"],["0.958333333333333","rgba(0,80,46,1)"],["1","rgba(0,69,41,1)"]],"showscale":true,"x":["00","00","00","00","00","00","00","01","01","01","01","01","01","01","02","02","02","02","02","02","02","03","03","03","03","03","03","03","04","04","04","04","04","04","04","05","05","05","05","05","06","06","06","06","06","06","06","07","07","07","07","07","07","08","08","08","08","08","08","08","09","09","09","09","09","09","10","10","10","10","10","10","11","11","11","11","11","11","11","12","12","12","12","12","12","12","13","13","13","13","13","13","13","14","14","14","14","14","14","14","15","15","15","15","15","15","15","16","16","16","16","16","16","16","17","17","17","17","17","17","17","18","18","18","18","18","18","18","19","19","19","19","19","19","19","20","20","20","20","20","20","20","21","21","21","21","21","21","21","22","22","22","22","22","22","22","23","23","23","23","23","23","23"],"y":["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sun","Mon","Tue","Wed","Thu","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"z":[22,23,10,12,12,21,32,33,13,12,14,28,20,35,28,19,12,12,6,22,21,34,6,4,5,14,4,16,29,4,3,2,4,13,14,19,7,1,3,12,4,1,2,1,2,1,6,1,7,1,5,3,3,4,1,1,1,4,1,3,3,2,2,3,1,2,2,1,1,2,2,3,3,1,3,4,4,5,6,3,9,4,2,3,5,5,3,1,9,4,2,5,4,7,6,6,4,6,8,6,17,12,8,13,1,9,19,10,6,11,12,9,9,14,9,18,10,9,9,9,9,19,14,10,6,14,7,10,4,18,15,9,5,14,20,11,15,18,16,9,15,19,13,25,32,17,11,22,13,12,29,19,22,19,16,16,40,21,19,17,24,29,20],"type":"heatmap","xaxis":"x2","yaxis":"y2","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"type":"category","categoryorder":"array","categoryarray":["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],"anchor":"y"},"xaxis2":{"domain":[0,1],"automargin":true,"type":"category","categoryorder":"array","categoryarray":["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],"anchor":"y2"},"yaxis2":{"domain":[0,0.45],"automargin":true,"type":"category","categoryorder":"array","categoryarray":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"anchor":"x2"},"yaxis":{"domain":[0.55,1],"automargin":true,"type":"category","categoryorder":"array","categoryarray":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"zaxis":{"title":"shooting"}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.333333333333333},"title":"Heat Maps of Shootings"},"attrs":{"61587a8621a8":{"x":{},"y":{},"z":{},"colors":"BuPu","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"heatmap"},"61587c0bdb6f":{"x":{},"y":{},"z":{},"colors":"YlGn","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"heatmap"}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>From both Pre-COVID and COVID time, the shooting are most centered at night, especially 23 PM - 4 AM. For the Pre-COVID time, most of the shootings are in the midnight of weekends, and for COVID, it seems to be more dispersed in nights.</p>
</div>
<div id="which-age-group-of-people-is-the-most-dangerous" class="section level2">
<h2>Which age group of people is the most dangerous?</h2>
<p>From the the visualization in the section of descriptive, we see that age group 18-24 and age group 25-44 have the highest shooting incidences. However, more statistical analysis are required to indicate if the age group 18-24 and group 25-44 are more dangerous or they have the larger proportion in the population.</p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
